{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\APOSTILA EBAC\\\\EXERC\\xCDCIOS EBAC\\\\curso-frontend\\\\efood\\\\src\\\\components\\\\ProductList\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport Product from '../Product';\nimport { ProductListContainer, ProductListItem } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductList = ({\n  background,\n  title,\n  efoods\n}) => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const location = useLocation();\n  const [catalogoServico, setCatalogoServico] = useState([]);\n  useEffect(() => {\n    if (efoods.length === 0) {\n      fetch(`https://fake-api-tau.vercel.app/api/efood/restaurantes/${id}`).then(res => res.json()).then(res => setCatalogoServico([res])).catch(error => console.error('Erro ao carregar dados:', error));\n    } else {\n      setCatalogoServico(efoods);\n    }\n  }, [id, efoods]);\n  const getEfoodTags = efood => {\n    const tags = [];\n    if (efood.tipo) {\n      tags.push(efood.tipo);\n    }\n    if (efood.destacado) {\n      tags.push('Destaque da semana');\n    }\n    return tags;\n  };\n  const isPerfilPage = location.pathname.includes('/perfil');\n  const getdescription = description => {\n    if (description.length > 176) {\n      return description.slice(0, 173) + '...';\n    }\n    return description;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(ProductListContainer, {\n      background: background,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductListItem, {\n        background: background,\n        children: catalogoServico.map(efood => isPerfilPage ? efood.cardapio.map(item => /*#__PURE__*/_jsxDEV(Product, {\n          image: item.foto,\n          infos: getEfoodTags(efood),\n          title: item.nome,\n          nota: efood.avaliacao,\n          description: getdescription(item.descricao),\n          to: `/perfil/${efood.id}`,\n          background: background\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this)) : /*#__PURE__*/_jsxDEV(Product, {\n          image: efood.capa,\n          infos: getEfoodTags(efood),\n          title: efood.titulo,\n          nota: efood.avaliacao,\n          description: efood.descricao,\n          to: `/perfil/${efood.id}`,\n          background: background\n        }, efood.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductList, \"cWBMH13ukyVg+yqun5TVWms+2uA=\", false, function () {\n  return [useParams, useLocation];\n});\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["useEffect","useState","useLocation","useParams","Product","ProductListContainer","ProductListItem","jsxDEV","_jsxDEV","ProductList","background","title","efoods","_s","id","location","catalogoServico","setCatalogoServico","length","fetch","then","res","json","catch","error","console","getEfoodTags","efood","tags","tipo","push","destacado","isPerfilPage","pathname","includes","getdescription","description","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","cardapio","item","image","foto","infos","nome","nota","avaliacao","descricao","to","capa","titulo","_c","$RefreshReg$"],"sources":["C:/Users/USER/Desktop/APOSTILA EBAC/EXERCÍCIOS EBAC/curso-frontend/efood/src/components/ProductList/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\r\nimport { useLocation, useParams } from 'react-router-dom'\r\nimport Product from '../Product'\r\nimport { ProductListContainer, ProductListItem } from './styles'\r\n\r\nexport type Efood = {\r\n  id: number\r\n  capa: string\r\n  titulo: string\r\n  descricao: string\r\n  tipo: string\r\n  destacado: boolean\r\n  avaliacao: number\r\n  cardapio: {\r\n    foto: string\r\n    preco: number\r\n    id: number\r\n    nome: string\r\n    descricao: string\r\n    porcao: string\r\n  }[]\r\n}\r\n\r\nexport type Props = {\r\n  title: string\r\n  background: 'light' | 'dark'\r\n  efoods: Efood[]\r\n}\r\n\r\nconst ProductList = ({ background, title, efoods }: Props) => {\r\n  const { id } = useParams<{ id: string }>()\r\n  const location = useLocation()\r\n  const [catalogoServico, setCatalogoServico] = useState<Efood[]>([])\r\n\r\n  useEffect(() => {\r\n    if (efoods.length === 0) {\r\n      fetch(`https://fake-api-tau.vercel.app/api/efood/restaurantes/${id}`)\r\n        .then((res) => res.json())\r\n        .then((res) => setCatalogoServico([res]))\r\n        .catch((error) => console.error('Erro ao carregar dados:', error))\r\n    } else {\r\n      setCatalogoServico(efoods)\r\n    }\r\n  }, [id, efoods])\r\n\r\n  const getEfoodTags = (efood: Efood) => {\r\n    const tags: string[] = []\r\n    if (efood.tipo) {\r\n      tags.push(efood.tipo)\r\n    }\r\n    if (efood.destacado) {\r\n      tags.push('Destaque da semana')\r\n    }\r\n    return tags\r\n  }\r\n\r\n  const isPerfilPage = location.pathname.includes('/perfil')\r\n\r\n  const getdescription = (description: string) => {\r\n    if (description.length > 176) {\r\n      return description.slice(0, 173) + '...'\r\n    }\r\n    return description\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <ProductListContainer background={background}>\r\n        <h2>{title}</h2>\r\n        <ProductListItem background={background}>\r\n          {catalogoServico.map((efood) =>\r\n            isPerfilPage ? (\r\n              efood.cardapio.map((item) => (\r\n                <Product\r\n                  key={item.id}\r\n                  image={item.foto}\r\n                  infos={getEfoodTags(efood)}\r\n                  title={item.nome}\r\n                  nota={efood.avaliacao}\r\n                  description={getdescription(item.descricao)}\r\n                  to={`/perfil/${efood.id}`}\r\n                  background={background}\r\n                />\r\n              ))\r\n            ) : (\r\n              <Product\r\n                key={efood.id}\r\n                image={efood.capa}\r\n                infos={getEfoodTags(efood)}\r\n                title={efood.titulo}\r\n                nota={efood.avaliacao}\r\n                description={efood.descricao}\r\n                to={`/perfil/${efood.id}`}\r\n                background={background}\r\n              />\r\n            )\r\n          )}\r\n        </ProductListItem>\r\n      </ProductListContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductList"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}